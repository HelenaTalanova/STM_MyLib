// #########################################################################################################
// * Includes ____________________________________________________________________________________________

#include "custom.h"

void iHAL_IWDG_Start(void);
void iHAL_IWDG_Refresh(void);

// #########################################################################################################
// * Private: implementation ______________________________________________________________________________

static IWDG_HandleTypeDef iwdg = {
	.Instance = IWDG,
	.Init = {.Prescaler = IWDG_PRESCALER_32, .Reload = 4095},
};

// #########################################################################################################
// * Public: implementation ______________________________________________________________________________

/// **************************************************************************************
void iHAL_IWDG_Start(void)
{
	HAL_IWDG_Init(&iwdg);
	HAL_IWDG_Refresh(&iwdg);
}

/// **************************************************************************************
void iHAL_IWDG_Refresh(void)
{
	HAL_IWDG_Refresh(&iwdg);
}

/// #########################################################################################################
/// * End file iwdg.c                                                                                 #####
/// #####################################################################################################
